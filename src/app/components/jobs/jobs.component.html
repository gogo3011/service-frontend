<ng-container *ngIf="(jobs$ | async) as jobs">
  <div class="grid">
    <div class="col-12">
      <button pButton icon="pi pi-plus"
              label="Add a job" (click)="addJob()"></button>
    </div>
    <div class="col-12">
      <p-table [value]="jobs" [scrollable]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>Repair shop</th>
            <th>Vehicle</th>
            <th>Mechanic</th>
            <th>Job type</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-job>
          <tr>
            <td>{{job.repairShop?.name}}</td>
            <td>{{job.vehicle?.car?.model?.modelName}}</td>
            <td>{{job.mechanic?.firstName}} {{job.mechanic?.lastName}}</td>
            <td>{{job.jobType}}</td>
            <td>
              <button pButton label="Edit" (click)="editJob(job)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</ng-container>

